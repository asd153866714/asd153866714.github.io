<html>

<head>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Home</title>
</head>

<body>
    <div id="header"></div>
    <button onclick="test()">click!!!</button>
    <div id="hbd"></div>

    <!-- <h1>hello </h1> -->

    <div id="footer"></div>
    <!--JavaScript at end of body for optimized loading-->
    <script type="text/javascript" src="js/materialize.min.js"></script>

    <script>

        window.onload = function (){
            header()
        }

        async function header() {
            let header = await fetch(`/header.html`)
                .then(response => {
                    return response.text()
                })
                .then(html => {
                    // Initialize the DOM parser
                    var parser = new DOMParser()

                    // Parse the text
                    var doc = parser.parseFromString(html, "text/html")
                    console.log("test", doc)

                    document.getElementById("header").innerHTML = html
                })
        }

        function test() {
            setInterval(() => {
                surprise()
            }, 1000);
        }

        function surprise() {
            let n = 0
            let a = document.getElementById('hbd')
            for (n; n < 10; n++) {
                a.innerHTML += `<h5>生日快樂~~~</h5>`
            }
            window.scrollTo(0, document.body.scrollHeight)
        }

        // (async function () {
        //     let header = await fetch(`/footer.html`)
        //         .then((response) => {
        //             return response.text()
        //         })
        //         .then((html) => {
        //             var parser = new DOMParser();
        //             var doc = parser.parseFromString(html, "text/html");
        //             document.getElementById("footer").innerHTML = doc
        //         })
        // }())

        async function fetchJson() {
            let r = await fetch(`/ccc.json`)
            let json = await r.json()
            document.getElementById('output').innerHTML = JSON.stringify(json, null, 2) // Jason.stringify() 將json字串化
        }

    </script>

</body>


</html>